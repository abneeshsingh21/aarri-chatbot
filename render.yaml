services:
  - type: web
    name: aarii-chatbot-backend
    env: docker
    plan: free
    dockerfile: ./Dockerfile
    healthCheckPath: /health
    
    envVars:
      - key: PYTHON_VERSION
        value: 3.12.10
      - key: FLASK_DEBUG
        value: false
      - key: DATABASE_URL
        fromDatabase:
          name: aarii-db
          property: connectionString
      - key: PORT
        value: 5000
      - key: GROQ_API_KEY
        sync: false  # User must set this manually in Render dashboard
      - key: GROQ_MODEL
        value: llama-3.1-8b-instant
      - key: GROQ_BASE_URL
        value: https://api.groq.com/openai/v1
      - key: AARII_SYSTEM_PROMPT
        value: "You are Aarii, a helpful, concise AI assistant."
      - key: AARII_TEMP
        value: "0.2"
      - key: AARII_MAX_TOKENS
        value: "512"
      - key: EMBED_MODEL
        value: all-MiniLM-L6-v2
      - key: FRONTEND_URL
        value: https://abneeshsingh21.github.io/aarri-chatbot  # Update with your GitHub Pages URL

databases:
  - name: aarii-db
    databaseName: aarii_chatlogs
    user: aarii_user
    plan: free
    postgreSQL: true

